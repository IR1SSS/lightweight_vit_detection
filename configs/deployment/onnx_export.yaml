# ONNX Export Configuration
# 轻量化视觉Transformer实时物体检测系统 - ONNX导出配置

export:
  # 模型配置
  model:
    config_path: "configs/model/mobilevit.yaml"
    checkpoint_path: "outputs/best_model.pth"
    
  # ONNX导出参数
  onnx:
    output_path: "outputs/exports/mobilevit_detection.onnx"
    opset_version: 13
    dynamic_axes:
      input:
        0: "batch_size"
      output:
        0: "batch_size"
    input_names: ["input"]
    output_names: ["boxes", "scores", "labels"]
    
  # 输入配置
  input:
    shape: [1, 3, 640, 640]  # [batch, channels, height, width]
    dtype: "float32"
    
  # 优化选项
  optimization:
    simplify: true  # 使用onnx-simplifier
    constant_folding: true
    fuse_operations: true
    
  # 验证配置
  validation:
    enabled: true
    rtol: 0.001
    atol: 0.0001
    test_input_path: ""  # 测试输入路径（可选）
